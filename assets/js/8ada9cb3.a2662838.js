"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[93031],{54084:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>d,toc:()=>c});var i=r(85893),l=r(11151);const s={title:"Tag 14",tags:["M239","Tag 14","Server","Docker","PHP"]},t="Tag 14: Docker mit PHP",d={id:"M239/tag-0014",title:"Tag 14",description:"1 \xdcbung 1: Projekt ausprobieren",source:"@site/docs/M239/tag-0014.md",sourceDirName:"M239",slug:"/M239/tag-0014",permalink:"/docs/M239/tag-0014",draft:!1,unlisted:!1,tags:[{label:"M239",permalink:"/docs/tags/m-239"},{label:"Tag 14",permalink:"/docs/tags/tag-14"},{label:"Server",permalink:"/docs/tags/server"},{label:"Docker",permalink:"/docs/tags/docker"},{label:"PHP",permalink:"/docs/tags/php"}],version:"current",frontMatter:{title:"Tag 14",tags:["M239","Tag 14","Server","Docker","PHP"]},sidebar:"tutorialSidebar",previous:{title:"Tag 13",permalink:"/docs/M239/tag-0013"},next:{title:"Tag 15",permalink:"/docs/M239/tag-0015"}},a={},c=[{value:"1 \xdcbung 1: Projekt ausprobieren",id:"1-\xfcbung-1-projekt-ausprobieren",level:2},{value:"1.1 Phase 1: Aufbau",id:"11-phase-1-aufbau",level:3},{value:"1.2 Phase 2: Laufen lassen",id:"12-phase-2-laufen-lassen",level:3},{value:"2 \xdcbung 2: Eigenes Projekt bauen",id:"2-\xfcbung-2-eigenes-projekt-bauen",level:2},{value:"2.1 Phase 1: Vorbereitung",id:"21-phase-1-vorbereitung",level:3},{value:"2.2 Phase 2: Dockerfile erstellen",id:"22-phase-2-dockerfile-erstellen",level:3},{value:"2.3 Phase 3: Container builden",id:"23-phase-3-container-builden",level:3},{value:"2.4 Phase 4: Container laufen lassen",id:"24-phase-4-container-laufen-lassen",level:3}];function o(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"tag-14-docker-mit-php",children:"Tag 14: Docker mit PHP"}),"\n",(0,i.jsx)(n.h2,{id:"1-\xfcbung-1-projekt-ausprobieren",children:"1 \xdcbung 1: Projekt ausprobieren"}),"\n",(0,i.jsx)(n.h3,{id:"11-phase-1-aufbau",children:"1.1 Phase 1: Aufbau"}),"\n",(0,i.jsx)(n.admonition,{title:"Auftrag",type:"note",children:(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Erstellen Sie ein neues Verzeichnis ",(0,i.jsx)(n.code,{children:"teststaticsite"})]}),"\n",(0,i.jsx)(n.li,{children:"Erstellen Sie darin eine neue Datei Dockerfile"}),"\n",(0,i.jsxs)(n.li,{children:["Erstellen Sie ein zweites File ",(0,i.jsx)(n.code,{children:"Hello_docker.html"})]}),"\n"]})}),"\n",(0,i.jsx)(n.p,{children:"Neues Directory erstellen:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cmd",children:"mkdir teststaticsite\r\ncd teststaticsite\n"})}),"\n",(0,i.jsx)(n.p,{children:"Dockerfile erstellen:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cmd",children:"nano Dockerfile\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-docker",children:"FROM httpd:2.4\r\n\r\nCOPY Hello_docker.html /usr/local/apache2/htdocs\n"})}),"\n",(0,i.jsx)(n.p,{children:"HTML Datei erstellen:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cmd",children:"nano Hello_docker.html\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",metastring:'title="Hello_docker.html"',children:'<!DOCTYPE html>\r\n<html lang="de">\r\n<head>\r\n    <meta charset="UTF-8">\r\n    <meta http-equiv="X-UA-Compatible" content="IE=edge">\r\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\r\n    <title>Hello Docker</title>\r\n</head>\r\n<body>\r\n    <h1>Hello Docker</h1>\r\n</body>\r\n</html>\n'})}),"\n",(0,i.jsx)(n.h3,{id:"12-phase-2-laufen-lassen",children:"1.2 Phase 2: Laufen lassen"}),"\n",(0,i.jsx)(n.admonition,{title:"Auftrag",type:"note",children:(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Builden Sie das Image mit dem Befehl ",(0,i.jsx)(n.code,{children:"docker build -t inauendemo:v1 ."})]}),"\n",(0,i.jsxs)(n.li,{children:["Lassen Sie den Container laufen mit dem Befehl ",(0,i.jsx)(n.code,{children:"docker run -i -p 8888:80 inauendemo:v1"})]}),"\n",(0,i.jsxs)(n.li,{children:["Greifen Sie mit dem Webbrowser auf ",(0,i.jsx)(n.code,{children:"http://localhost:8888/Hello_docker.html"})," zu"]}),"\n",(0,i.jsx)(n.li,{children:"Protokollieren Sie was das Dockerfile tut - Zeile f\xfcr Zeile"}),"\n",(0,i.jsx)(n.li,{children:"Protokollieren Sie was der Startbefehl tut"}),"\n"]})}),"\n",(0,i.jsx)(n.p,{children:"Image builden:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-docker",children:"docker build -t inauendemo:v1 .\n"})}),"\n",(0,i.jsx)(n.p,{children:"Container laufen lassen:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-docker",children:"docker run -i -p 8888:80 inauendemo:v1\n"})}),"\n",(0,i.jsx)(n.p,{children:"Webseitenaufruf:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Webseitenaufruf inauendemo Container",src:r(61241).Z+"",width:"1280",height:"1368"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Was macht das Dockerfile"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-docker",children:"FROM httpd:2.4\r\n\r\nCOPY Hello_docker.html /usr/local/apache2/htdocs\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"FROM"})," - Holt sich das Image ",(0,i.jsx)(n.code,{children:"httpd"})," in der Version ",(0,i.jsx)(n.code,{children:"2.4"})," vom ",(0,i.jsx)(n.a,{href:"https://hub.docker.com/",children:"Docker Hub"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"COPY"})," - Kopiert das ",(0,i.jsx)(n.code,{children:"Hello_docker.html"}),", was in diesem Verzeichnis ist, in das Apache Verzeichnis"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Was macht der Startbefehl"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-docker",children:"docker run -i -p 8888:80 inauendemo:v1\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"RUN"})," - F\xfcr den Container aus"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-i"})," - Interaktiv, ist es ein Konsolen-Programm, kann in dieser Konsole der Output gesehen werden"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-p"})," - Definiert den Port, der erste Teil ist der Port des Hosts's und der zweite Teil der Port des Containers."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"2-\xfcbung-2-eigenes-projekt-bauen",children:"2 \xdcbung 2: Eigenes Projekt bauen"}),"\n",(0,i.jsx)(n.h3,{id:"21-phase-1-vorbereitung",children:"2.1 Phase 1: Vorbereitung"}),"\n",(0,i.jsx)(n.admonition,{title:"Auftrag",type:"note",children:(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Erstellen Sie im Home-Verzeichnis auf dem Dockerhost ein neues Verzeichnis: phpdocker"}),"\n",(0,i.jsx)(n.li,{children:"Stellen Sie darin eine Test-PHP-Datei (zum Beispiel ein phpinfo()) und eine Test-HTML-Datei bereit"}),"\n"]})}),"\n",(0,i.jsx)(n.p,{children:"Verzeichnis erstellen:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cmd",children:"mkdir phpdocker\r\ncd phpdocker\n"})}),"\n",(0,i.jsx)(n.p,{children:"Test-PHP-Datei erstellen:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cmd",children:"nano test.php\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",metastring:'title="test.php"',children:"<?php\r\n\r\nphpinfo();\n"})}),"\n",(0,i.jsx)(n.p,{children:"Test-HTML-Datei erstellen:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cmd",children:"nano test.html\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",metastring:'title="test.html"',children:"<h1>Valentino Panico</h1>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"22-phase-2-dockerfile-erstellen",children:"2.2 Phase 2: Dockerfile erstellen"}),"\n",(0,i.jsx)(n.admonition,{title:"Auftrag",type:"note",children:(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Recherchieren Sie im Internet zum Vorgehen"}),"\n",(0,i.jsxs)(n.li,{children:["Betrachten Sie das Dockerfile im Projekt ",(0,i.jsx)(n.a,{href:"https://gitlab.com/M239_public/PHP_Docker/tree/master/web",children:"https://gitlab.com/M239_public/PHP_Docker/tree/master/web"})]}),"\n",(0,i.jsx)(n.li,{children:"Erstellen Sie nach Ihren Vorstellungen (und Recherchen) ein Dockerfile"}),"\n"]})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://docs.docker.com/engine/reference/builder/",children:"Recherche Dockerfile"})}),"\n",(0,i.jsx)(n.p,{children:"Beispiel Dockerfile:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-docker",children:"FROM php:7.0-apache\r\nCOPY public/ /var/www/html/\r\nCOPY guiadmin/ /var/www/html/guiadmin\r\nRUN docker-php-ext-install pdo pdo_mysql\n"})}),"\n",(0,i.jsx)(n.p,{children:"Eigenes Dockerfile erstellen:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-docker",children:"FROM php:7.4-apache\r\nCOPY test.php /var/www/html/\r\nCOPY test.html /var/www/html/\r\nRUN docker-php-ext-install pdo pdo_mysql\n"})}),"\n",(0,i.jsx)(n.h3,{id:"23-phase-3-container-builden",children:"2.3 Phase 3: Container builden"}),"\n",(0,i.jsx)(n.admonition,{title:"Auftrag",type:"note",children:(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["F\xfchren Sie im Verzeichnis folgenden Befehl aus:",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.code,{children:"docker build -t webservertest:v1 ."})," // Achten Sie auf den letzten Punkt!"]}),"\n"]})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cmd",children:"docker build -t webservertest:v1 .\n"})}),"\n",(0,i.jsx)(n.admonition,{title:"Kontrolle",type:"danger",children:(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Kontrollieren Sie ob Ihre Image erstellt wurde (Befehl nachkucken...)"}),"\n",(0,i.jsx)(n.li,{children:"Dokumentieren Sie Ihr Verst\xe4ndnis des Befehls"}),"\n"]})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"/appendix/M239/docker#docker-images-anzeigen",children:"Kontrolle Image Erstellung"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.a,{href:"/appendix/M239/docker#docker-build",children:["Erkl\xe4rung ",(0,i.jsx)(n.code,{children:"docker build"})]})}),"\n",(0,i.jsx)(n.h3,{id:"24-phase-4-container-laufen-lassen",children:"2.4 Phase 4: Container laufen lassen"}),"\n",(0,i.jsx)(n.admonition,{title:"Auftrag",type:"note",children:(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["F\xfchren Sie nun folgenden Befehl aus:",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.code,{children:"docker run -i -p 3333:80 webservertest:v1"})]}),"\n"]})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cmd",children:"docker run -i -p 3333:80 webservertest:v1\n"})}),"\n",(0,i.jsx)(n.admonition,{title:"Kontrolle",type:"danger",children:(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Kontrollieren Sie in einem anderen Terminal ob Sie den laufenden Container sehen"}),"\n",(0,i.jsxs)(n.li,{children:["L\xf6sen Sie mit Ihrem Webbrowser die Webseite ",(0,i.jsx)(n.code,{children:"http://localhost:3333/test.php"})," auf....sollte funktionieren"]}),"\n",(0,i.jsx)(n.li,{children:"Dokumentieren Sie Ihr Verst\xe4ndnis des Befehls"}),"\n"]})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"/appendix/M239/docker#laufende-container-anzeigen",children:"Kontrolle laufende Container"})}),"\n",(0,i.jsx)(n.p,{children:"Webseitenaufruf:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Webseitenaufruf webservertest Container test.php",src:r(6264).Z+"",width:"1280",height:"1368"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Webseitenaufruf webservertest Container test.html",src:r(56832).Z+"",width:"1280",height:"1368"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.a,{href:"/appendix/M239/docker#docker-run",children:["Erkl\xe4rung ",(0,i.jsx)(n.code,{children:"docker run"})]})})]})}function h(e={}){const{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},61241:(e,n,r)=>{r.d(n,{Z:()=>i});const i=r.p+"assets/images/docker_inauendemo_container-fac85b18cb59211f6bf6f6ff5e41f047.png"},56832:(e,n,r)=>{r.d(n,{Z:()=>i});const i=r.p+"assets/images/docker_webservertest_container_html-09d910f968aac49b6bfa180258e04987.png"},6264:(e,n,r)=>{r.d(n,{Z:()=>i});const i=r.p+"assets/images/docker_webservertest_container_php-a753149da390e3aeab9507ca06202bde.png"},11151:(e,n,r)=>{r.d(n,{Z:()=>d,a:()=>t});var i=r(67294);const l={},s=i.createContext(l);function t(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);