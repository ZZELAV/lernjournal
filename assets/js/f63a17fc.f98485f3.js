"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[3089],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=r.createContext({}),o=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=o(e.components);return r.createElement(u.Provider,{value:t},e.children)},d="mdxType",k={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,u=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=o(n),c=a,m=d["".concat(u,".").concat(c)]||d[c]||k[c]||i;return n?r.createElement(m,l(l({ref:t},p),{},{components:n})):r.createElement(m,l({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,l=new Array(i);l[0]=c;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s[d]="string"==typeof e?e:a,l[1]=s;for(var o=2;o<i;o++)l[o]=n[o];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},72351:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>k,frontMatter:()=>i,metadata:()=>s,toc:()=>o});var r=n(87462),a=(n(67294),n(3905));const i={title:"Tag 7",tags:["M141","Tag 7","Datenbanksysteme","Backup","Restore","Migration"]},l="Tag 7",s={unversionedId:"M141/tag-0007",id:"M141/tag-0007",title:"Tag 7",description:"1 Dokumentationsauftr\xe4ge",source:"@site/docs/M141/tag-0007.md",sourceDirName:"M141",slug:"/M141/tag-0007",permalink:"/docs/M141/tag-0007",draft:!1,tags:[{label:"M141",permalink:"/docs/tags/m-141"},{label:"Tag 7",permalink:"/docs/tags/tag-7"},{label:"Datenbanksysteme",permalink:"/docs/tags/datenbanksysteme"},{label:"Backup",permalink:"/docs/tags/backup"},{label:"Restore",permalink:"/docs/tags/restore"},{label:"Migration",permalink:"/docs/tags/migration"}],version:"current",frontMatter:{title:"Tag 7",tags:["M141","Tag 7","Datenbanksysteme","Backup","Restore","Migration"]},sidebar:"tutorialSidebar",previous:{title:"Tag 6",permalink:"/docs/M141/tag-0006"},next:{title:"Tag 8",permalink:"/docs/M141/tag-0008"}},u={},o=[{value:"1 Dokumentationsauftr\xe4ge",id:"1-dokumentationsauftr\xe4ge",level:2},{value:"1.1 Dokumentieren der Vorgehen bei Backups",id:"11-dokumentieren-der-vorgehen-bei-backups",level:3},{value:"1.1.1 Verschiedene Begriffe aufgelistet und erkl\xe4rt",id:"111-verschiedene-begriffe-aufgelistet-und-erkl\xe4rt",level:4},{value:"1.1.2 \xdcbungen dokumentiert und umgesetzt",id:"112-\xfcbungen-dokumentiert-und-umgesetzt",level:4},{value:"1.1.3 Recherche zu Percona XtraBackup",id:"113-recherche-zu-percona-xtrabackup",level:4},{value:"1.2 Migrationen",id:"12-migrationen",level:3},{value:"1.2.1 \xdcbungen dokumentiert und umgesetzt",id:"121-\xfcbungen-dokumentiert-und-umgesetzt",level:4},{value:"1.3 Dokumentieren Sie Ihre Arbeiten f\xfcr die Installation der Etherpad Applikation",id:"13-dokumentieren-sie-ihre-arbeiten-f\xfcr-die-installation-der-etherpad-applikation",level:3},{value:"1.4 Testen Sie Ihre Etherpad-Applikation aus und dokumentieren Sie die neu erstellten Daten aus der Datenbank",id:"14-testen-sie-ihre-etherpad-applikation-aus-und-dokumentieren-sie-die-neu-erstellten-daten-aus-der-datenbank",level:3},{value:"1.5 Diskutieren Sie die Security-Angriffsvektoren anhand der Applikation Etherpad",id:"15-diskutieren-sie-die-security-angriffsvektoren-anhand-der-applikation-etherpad",level:3},{value:"1.5.1 Beispiel : &quot;Angriffsvektor auf die Datenbank&quot; &lt;- Wie m\xfcsste die Applikation f\xfcr einen Produktiv-Betrieb genutzt werden",id:"151-beispiel--angriffsvektor-auf-die-datenbank---wie-m\xfcsste-die-applikation-f\xfcr-einen-produktiv-betrieb-genutzt-werden",level:4}],p={toc:o},d="wrapper";function k(e){let{components:t,...n}=e;return(0,a.kt)(d,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"tag-7"},"Tag 7"),(0,a.kt)("h2",{id:"1-dokumentationsauftr\xe4ge"},"1 Dokumentationsauftr\xe4ge"),(0,a.kt)("h3",{id:"11-dokumentieren-der-vorgehen-bei-backups"},"1.1 Dokumentieren der Vorgehen bei Backups"),(0,a.kt)("h4",{id:"111-verschiedene-begriffe-aufgelistet-und-erkl\xe4rt"},"1.1.1 Verschiedene Begriffe aufgelistet und erkl\xe4rt"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Cold"),": Daten stehen w\xe4hrend Export und Import nicht zur Verf\xfcgung."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Warm"),": Daten stehen w\xe4hrend Export und Import beschr\xe4nkt (z.B. nur Lesen) zur Verf\xfcgung."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Hot"),": Daten stehen w\xe4hrend Export und Import voll zur Verf\xfcgung."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"logisch"),": Backup ist f\xfcr Menschen lesbar (SQL-Skript, CSV-Datei)."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"physisch"),": Backup ist in bin\xe4rer Form gespeichert (Snapshot)."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"full"),": Der gesamte Datenbestand wird gesichert."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"incremental"),": Nur Differenzen zum vorherigen Backup werden gesichert. F\xfcr ein inkrementelles Backup muss als Basis immer ein Full Backup bestehen."),(0,a.kt)("h4",{id:"112-\xfcbungen-dokumentiert-und-umgesetzt"},"1.1.2 \xdcbungen dokumentiert und umgesetzt"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"./tag-0005#2-%C3%BCbungen"},"Tag 5 - Kapitel 2")),(0,a.kt)("h4",{id:"113-recherche-zu-percona-xtrabackup"},"1.1.3 Recherche zu Percona XtraBackup"),(0,a.kt)("p",null,"Percona XtraBackup erstellt eine inkrementelle Sicherung von MySQL-Datenbanken, indem es nur die \xc4nderungen seit der letzten Sicherung erfasst. Dadurch k\xf6nnen Benutzer schnell und effizient Backups erstellen, ohne die MySQL-Datenbanken w\xe4hrend des Sicherungsvorgangs sperren zu m\xfcssen."),(0,a.kt)("p",null,"Percona XtraBackup ist ein MySQL-Datenbanksicherungs Tool, welches von Percona entwickelt wurde. Es ist eine Alternative zum integrierten mysqldump. Es hat eine h\xf6here Leistung und schnellere Wiederherstellungszeit. Es erm\xf6glicht in MySQL inkrementelle Backups zu erstellen."),(0,a.kt)("p",null,"Folgend die wichtigsten Funktionen:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Volle und inkrementelle Sicherungen"),(0,a.kt)("li",{parentName:"ul"},"M\xf6glichkeit Datenbanken w\xe4hrend des Backups zu lesen und zu schreiben"),(0,a.kt)("li",{parentName:"ul"},"Kompression der Sicherungen"),(0,a.kt)("li",{parentName:"ul"},"Wiederherstellung von Sicherungen"),(0,a.kt)("li",{parentName:"ul"},"Unterst\xfctzung f\xfcr parallele Backups und Wiederherstellung")),(0,a.kt)("h3",{id:"12-migrationen"},"1.2 Migrationen"),(0,a.kt)("h4",{id:"121-\xfcbungen-dokumentiert-und-umgesetzt"},"1.2.1 \xdcbungen dokumentiert und umgesetzt"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"./tag-0005#25-migration-auf-entfernten-server"},"Tag 5 - Kapitel 2.5")),(0,a.kt)("h3",{id:"13-dokumentieren-sie-ihre-arbeiten-f\xfcr-die-installation-der-etherpad-applikation"},"1.3 Dokumentieren Sie Ihre Arbeiten f\xfcr die Installation der Etherpad Applikation"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"NodeJS (und npm) installieren:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"curl -sL https://deb.nodesource.com/setup_14.x | sudo -E bash -\nsudo apt install -y nodejs\n")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"Git Repo klonen:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"git clone --branch master https://github.com/ether/etherpad-lite.git\ncd etherpad-lite\n")),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"MySQL vorbereiten:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"create database `etherpad_lite_db`;\n-- Create a new database user. Replace <etherpaduser> and <password> with your own values.\nCREATE USER 'etherpaduser'@'localhost' identified by 'Etherpad_user#1234';\nALTER USER 'etherpaduser'@'localhost' IDENTIFIED WITH mysql_native_password BY 'Etherpad_user#1234';\n-- Grant permissions to that new database account. Replace <etherpaduser> with your own value from above step.\ngrant CREATE,ALTER,SELECT,INSERT,UPDATE,DELETE on `etherpad_lite_db`.* to 'etherpaduser'@'localhost';\n")),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},"Settings f\xfcr Applikation anpassen:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"cp settings.json.template settings.json\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text",metastring:'title="Bearbeiten Sie die Datei settings.json und kommentieren Sie den Block ein (<- Kommentarzeichen wegnehmen)"',title:'"Bearbeiten',Sie:!0,die:!0,Datei:!0,"settings.json":!0,und:!0,kommentieren:!0,den:!0,Block:!0,ein:!0,"(<-":!0,Kommentarzeichen:!0,'wegnehmen)"':!0},'"dbType" : "mysql",\n"dbSettings" : {\n    "user"    : "etherpaduser",\n    "port"    : "/var/run/mysqld/mysqld.sock",\n    "password": "Etherpad_user#1234",\n    "database": "etherpad_lite_db",\n    "charset" : "utf8mb4"\n}\n')),(0,a.kt)("ol",{start:5},(0,a.kt)("li",{parentName:"ol"},"Plugins installieren:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text",metastring:'title="Befehl in Etherpad-Folder ausf\xfchren"',title:'"Befehl',in:!0,"Etherpad-Folder":!0,'ausf\xfchren"':!0},"npm install --no-save --legacy-peer-deps ep_headings2 ep_markdown ep_comments_page ep_align ep_font_color ep_webrtc ep_embedded_hyperlinks2\n")),(0,a.kt)("ol",{start:6},(0,a.kt)("li",{parentName:"ol"},"Applikation starten:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"src/bin/run.sh\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"http://localhost:9001")," \xf6ffnen."),(0,a.kt)("h3",{id:"14-testen-sie-ihre-etherpad-applikation-aus-und-dokumentieren-sie-die-neu-erstellten-daten-aus-der-datenbank"},"1.4 Testen Sie Ihre Etherpad-Applikation aus und dokumentieren Sie die neu erstellten Daten aus der Datenbank"),(0,a.kt)("p",null,"Die Daten werden in die Tabelle ",(0,a.kt)("inlineCode",{parentName:"p"},"store")," als JSON geschrieben."),(0,a.kt)("h3",{id:"15-diskutieren-sie-die-security-angriffsvektoren-anhand-der-applikation-etherpad"},"1.5 Diskutieren Sie die Security-Angriffsvektoren anhand der Applikation Etherpad"),(0,a.kt)("h4",{id:"151-beispiel--angriffsvektor-auf-die-datenbank---wie-m\xfcsste-die-applikation-f\xfcr-einen-produktiv-betrieb-genutzt-werden"},'1.5.1 Beispiel : "Angriffsvektor auf die Datenbank" <- Wie m\xfcsste die Applikation f\xfcr einen Produktiv-Betrieb genutzt werden'),(0,a.kt)("p",null,"Nach ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/ether/etherpad-lite#tweak-the-settings"},"offizieller Anleitung")," sollte der der Datenbanktreiber von ",(0,a.kt)("inlineCode",{parentName:"p"},"dirtyDB")," auf z.B. ",(0,a.kt)("inlineCode",{parentName:"p"},"mysql")," gewechselt werden, da ",(0,a.kt)("inlineCode",{parentName:"p"},"dirtyDB")," nur f\xfcr Testing genutzt werden soll. Auch wird empfohlen die User-Authentication einzuschalten und die Passw\xf6rter davon als Hash zu speichern. Alle diese Einstellungen k\xf6nnen in der ",(0,a.kt)("inlineCode",{parentName:"p"},"settings.json"),"-Datei vorgenommen werden."),(0,a.kt)("hr",null),(0,a.kt)("p",null,"Quellen"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://docs.percona.com/percona-xtrabackup/8.0/index.html"},"https://docs.percona.com/percona-xtrabackup/8.0/index.html"))))}k.isMDXComponent=!0}}]);