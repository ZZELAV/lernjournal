"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[80695],{74729:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>m,frontMatter:()=>t,metadata:()=>d,toc:()=>o});var s=r(85893),i=r(11151);const t={title:"Tag 2",tags:["M239","Tag 2","Server","Repetition","DNS","nslookup"]},a="Tag 2: DNS",d={id:"M239/tag-0002",title:"Tag 2",description:"1 Repetitionsfragen",source:"@site/docs/M239/tag-0002.md",sourceDirName:"M239",slug:"/M239/tag-0002",permalink:"/docs/M239/tag-0002",draft:!1,unlisted:!1,tags:[{label:"M239",permalink:"/docs/tags/m-239"},{label:"Tag 2",permalink:"/docs/tags/tag-2"},{label:"Server",permalink:"/docs/tags/server"},{label:"Repetition",permalink:"/docs/tags/repetition"},{label:"DNS",permalink:"/docs/tags/dns"},{label:"nslookup",permalink:"/docs/tags/nslookup"}],version:"current",frontMatter:{title:"Tag 2",tags:["M239","Tag 2","Server","Repetition","DNS","nslookup"]},sidebar:"tutorialSidebar",previous:{title:"Tag 1",permalink:"/docs/M239/tag-0001"},next:{title:"Tag 3",permalink:"/docs/M239/tag-0003"}},l={},o=[{value:"1 Repetitionsfragen",id:"1-repetitionsfragen",level:2},{value:"2 DNS im Betrieb",id:"2-dns-im-betrieb",level:2}];function c(e){const n={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",hr:"hr",img:"img",p:"p",pre:"pre",strong:"strong",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"tag-2-dns",children:"Tag 2: DNS"}),"\n",(0,s.jsx)(n.h2,{id:"1-repetitionsfragen",children:"1 Repetitionsfragen"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Weshalb gibt es DNS?"}),(0,s.jsx)(n.br,{}),"\n","Wir Menschen sind gut im Namen merken, allerdings k\xf6nnen wir uns Zahlen nicht gut merken. Bei Computern ist es anders, diese k\xf6nnen besser mit Zahlen arbeiten. Daher gibt es den DNS (Domain Name System). Er kann Namen zu IP's umwandeln und IP's zu Namen.",(0,s.jsx)(n.br,{}),"\n","Aus diesem Grund gibt es den Dienst DNS."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Beschreiben Sie was auf dem Windows-Client passiert, wenn Sie eine Webseite aufrufen wollen"}),(0,s.jsx)(n.br,{}),"\n","Bevor ein DNS-Server angesprochen wird, versucht der Client selber die Namensaufl\xf6sung zu machen.",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.img,{alt:"Bild Ablauf DNS Windows",src:r(24354).Z+"",width:"369",height:"255"}),(0,s.jsx)(n.br,{}),"\n","1 ",(0,s.jsx)(n.strong,{children:"Befehl eingeben:"})," Der Client macht als ersten eine einfache Namensaufl\xf6sung per ",(0,s.jsx)(n.code,{children:"ping"})," oder ",(0,s.jsx)(n.code,{children:"nslookup"}),".",(0,s.jsx)(n.br,{}),"\n","2 ",(0,s.jsx)(n.strong,{children:"Lokaler Hostname:"})," Danach wird \xfcberpr\xfcft ob der Name dem lokalem Host entspricht.",(0,s.jsx)(n.br,{}),"\n","3 ",(0,s.jsx)(n.strong,{children:"DNS-Cache:"})," Entspricht es nicht dem lokalem Namen, wird der DNS-Cache \xfcberpr\xfcft. Im DNS-Cache befinden sich Abfragen von Namen die bereits gemacht wurden. (Linux hat keinen DNS-Cache)",(0,s.jsx)(n.br,{}),"\n","4 ",(0,s.jsx)(n.strong,{children:"HOSTS-Datei:"})," In der HOSTS-Datei kann eine manuelle Namensaufl\xf6sung gemacht werden. Es kann die IP und der dazugeh\xf6rigen Namen eingetragen werden.",(0,s.jsx)(n.br,{}),"\n","Speicherort Windows -> %SystemRoot%\\system32\\drivers\\etc\\hosts",(0,s.jsx)(n.br,{}),"\n","Speicherort Linux -> /etc/hosts",(0,s.jsx)(n.br,{}),"\n","5 ",(0,s.jsx)(n.strong,{children:"DNS-Server:"})," Erst jetzt kommt der DNS-Server ins Spiel. Gibt es bei der Namensaufl\xf6sung mittels DNS-Server kein Ergebnis, wird es mit der Fehleranalyse schwieriger.",(0,s.jsx)(n.br,{}),"\n","6 ",(0,s.jsx)(n.strong,{children:"NetBIOS-Namenscache:"})," Jetzt wird mit dem NetBIOS gearbeitet. Der Name wird im Cache gesucht.",(0,s.jsx)(n.br,{}),"\n","7 ",(0,s.jsx)(n.strong,{children:"WINS-Server:"})," Der WINS-Server wird f\xfcr die Namensaufl\xf6sung gefragt.",(0,s.jsx)(n.br,{}),"\n","8 ",(0,s.jsx)(n.strong,{children:"Broadcast:"})," Wurde immernoch nicht ein Ergebnis geliefert, wird per Broadcast nach der Namensaufl\xf6sung gefragt.",(0,s.jsx)(n.br,{}),"\n","9 ",(0,s.jsx)(n.strong,{children:"LMHOSTS-Datei:"})," Als letzte Option wird die LMHOSTS-Datei angesprochen. Die LMHOSTS-Datei ist \xe4hnlich aufgebaut wie die lokale HOSTS-Datei. Wird hier kein Ergebnis geliefert, gibt es keine passende IP zum angefragten Namen."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Beschreiben Sie was passiert, wenn Sie Ihre DNS-Abfrage im Internet stellen"}),(0,s.jsx)(n.br,{}),"\n","Wird eine Website aufgerufen, wird ",(0,s.jsx)(n.strong,{children:"immer"})," eine Namensaufl\xf6sung gemacht."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{alt:"Bild DNS Abfrage",src:r(63422).Z+"",width:"525",height:"280"}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"Schritt 1:"}),(0,s.jsx)(n.br,{}),"\n","Der ",(0,s.jsx)(n.em,{children:"Computer1"})," fragt seinen lokalen DNS-Server nach der Namensaufl\xf6sung von ",(0,s.jsx)(n.em,{children:"mail1.nwtraders.com"}),".",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"Schritt 2:"}),(0,s.jsx)(n.br,{}),"\n","Da der ",(0,s.jsx)(n.em,{children:"Computer1"})," das erste Mal auf ",(0,s.jsx)(n.em,{children:"mail1.nwtraders.com"})," zugreift, kennt der lokale DNS-Server die IP noch nicht. Daher fragt er einen Root-Server (siehe ",(0,s.jsx)(n.a,{href:"/appendix/M239/fqdn",children:"FQDN-Aufbau"}),") an. Der Root-Server weiss, wer verantwortlich f\xfcr die com-Adresse ist und gibt die IP am lokalen Server zur\xfcck.",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"Schritt 3:"}),(0,s.jsx)(n.br,{}),"\n","Der lokale DNS-Server fragt jetzt den com-Server an. Als Antwort bekommt der lokale Server die IP vom DNS-Server von ",(0,s.jsx)(n.em,{children:"nwtraders.com"}),".",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"Schritt 4:"}),(0,s.jsx)(n.br,{}),"\n","Jetzt kann er den DNS-Server von ",(0,s.jsx)(n.em,{children:"nwtraders.com"})," anfragen, wo ",(0,s.jsx)(n.em,{children:"mail1.nwtraders.com"})," liegt.",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"Schritt 5:"}),(0,s.jsx)(n.br,{}),"\n","Die Antwort, die der lokale Server von ",(0,s.jsx)(n.em,{children:"nwtraders.com"})," bekommen hat, gibt er weiter an den Client und somit kann der Client auf ",(0,s.jsx)(n.em,{children:"mail1.nwtraders.com"})," zugreifen."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Benennen und erkl\xe4ren Sie die wichtigsten RRs im DNS"}),(0,s.jsx)(n.br,{}),"\n","RR -> Resource Records"]}),"\n",(0,s.jsx)(n.p,{children:"A -> IPv4 f\xfcr einen DNS-Namen"}),"\n",(0,s.jsx)(n.p,{children:"AAAA -> IPv6 f\xfcr einen DNS-Namen"}),"\n",(0,s.jsx)(n.p,{children:"CNAME -> Alias von einem anderen DNS-Server"}),"\n",(0,s.jsx)(n.p,{children:"MX -> Mailserver f\xfcr eine Dom\xe4ne"}),"\n",(0,s.jsx)(n.p,{children:"NS -> Hostname vom autoritativen DNS-Server einer Dom\xe4ne"}),"\n",(0,s.jsx)(n.p,{children:"PTR -> Reverse-Eintrag einer IP"}),"\n",(0,s.jsx)(n.p,{children:"SOA -> Source of Authority, verbindliche Informationen f\xfcr eine DNS-Zone"}),"\n",(0,s.jsx)(n.p,{children:"SRV -> Service-Eintr\xe4ge f\xfcr andere Dienste"}),"\n",(0,s.jsx)(n.h2,{id:"2-dns-im-betrieb",children:"2 DNS im Betrieb"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Welche DNS-Server gibt es?"}),(0,s.jsx)(n.br,{}),"\n","Der DNS-Server ist bei uns auf dem DC (Domain Controller) installiert. An jedem grosssem Standort gibt es einen DC, die sich untereinander immmer wieder synchronisieren, damit bei einer Unterbrechung, weiterhin lokal gearbeitet werden kann."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Welche Betriebssysteme?"}),(0,s.jsx)(n.br,{}),"\n","Alle Server laufen mit Windows Server 2022"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Welche Zonen werden damit beantwortet?"}),(0,s.jsx)(n.br,{}),"\n","Wir besitzen zwei Zonen:",(0,s.jsx)(n.br,{}),"\n","bhn-services.com -> Diese wird nur f\xfcr die IT genutzt (haupts\xe4chlich f\xfcr E-Mails)."]}),"\n",(0,s.jsx)(n.p,{children:"lenze.com -> Das ist die Dom\xe4ne, in der alle Ger\xe4te weltweit enthalten sind (Server, Drucker, Clients, etc.)."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Zeichnen Sie ein Netzwerkdiagramm auf welchem die DNS-Server schematisch dargestellt sind."}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.img,{alt:"Bild Netzwerkdiagramm Lenze",src:r(14927).Z+"",width:"1071",height:"851"}),(0,s.jsx)(n.br,{}),"\n","Der Domain Controller in Deutschland ist der Hauptcontroller. Danach hat jeder gr\xf6ssere Standort nochmals einen DC. Diese synchronisieren sich untereinander immer, damit alle auf dem aktuellsten Stand sind und bei einer Unterbrechung lokal weitergearbeitet werden kann. Der DC vom lokalen Standort ist immer der prim\xe4re DNS-Server und der DNS-Server in Deutschland ist der sekund\xe4re."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Testen Sie mittels nslookup eine Beispielabfrage in ihrem Unternehmensnetz"})}),"\n",(0,s.jsx)(n.p,{children:"Intern:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-nslookup",children:"Standardserver: ZCH###.lenze.com\r\nAddress: 172.18.###.###\r\n  \r\n> lenze.com\r\nServer: ZCH###.lenze.com\r\nAddress: 172.18.###.###\r\n  \r\nName: lenze.com\r\nAddresses: 172.18.###.###\r\n            192.168.###.###\r\n  \r\n> set q=NS\r\n> lenze.com\r\nlenze.com       nameserver = zde###.lenze.com\r\nlenze.com       nameserver = zus###.lenze.com\r\nlenze.com       nameserver = zde###.lenze.com\r\nlenze.com       nameserver = zcn###.lenze.com\r\nlenze.com       nameserver = zus###.lenze.com\r\nlenze.com       nameserver = zde###.lenze.com\r\nlenze.com       nameserver = zde###.lenze.com\r\nlenze.com       nameserver = zch###.lenze.com\r\nlenze.com       nameserver = zde###.lenze.com\r\nlenze.com       nameserver = zat###.lenze.com\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Hier kann man einen nslookup vom internen Netzwerk sehen. Der Prim\xe4re DNS-Server von der Schweiz antwortet. Macht man einen nslookup auf lenze.com, antworten zwei DNS-Server der prim\xe4re und der sekund\xe4re. Setzt man die Query nur auf die Namensserver und fragt wieder lenze.com ab, antworten alle DNS-Server auf der Welt (insgesamt 10). Das sind die gr\xf6ssten Standorte. Z.B. holt sich der Standort Brasilien die Daten vom DC in Amerika.",(0,s.jsx)(n.br,{}),"\n","Leider darf ich den genauen Namen und die IP's nicht zeigen."]}),"\n",(0,s.jsx)(n.p,{children:"Extern:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-nslookup",children:"Standardserver: internetbox.home\r\nAddress: 192.168.1.1\r\n  \r\n> lenze.com\r\nServer: internetbox.home\r\nAddress: 192.168.1.1\r\n  \r\nNicht autorisierende Antwort:\r\nName: lenze.com\r\nAddress: 195.201.191.28\r\n  \r\n> set q=NS\r\n> lenze.com\r\nServer: internetbox.home\r\nAddress: 192.168.1.1\r\n  \r\nNicht autorisierende Antwort:\r\nlenze.com       nameserver = ns.pop-hannover.de\r\nlenze.com       nameserver = ns2.pop-hannover.net\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["Quellen: ",(0,s.jsx)(n.a,{href:"https://moodle.bztf.ch/pluginfile.php/153154/mod_resource/content/1/site/data/script/host2.GIF",children:"Bild Ablauf DNS Windows"}),", ",(0,s.jsx)(n.a,{href:"https://moodle.bztf.ch/pluginfile.php/153154/mod_resource/content/1/site/data/script/iterativ.jpg",children:"Bild DNS Abfrage"})]})]})}function m(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},63422:(e,n,r)=>{r.d(n,{Z:()=>s});const s=r.p+"assets/images/dnsAbfrage-1debd2f6cf3712a5d03721f61ca91456.jpg"},24354:(e,n,r)=>{r.d(n,{Z:()=>s});const s=r.p+"assets/images/dnsAblaufWindows-07e50bc7cc849302680537155317d948.GIF"},14927:(e,n,r)=>{r.d(n,{Z:()=>s});const s=r.p+"assets/images/netzwerkdiagrammLenze-f4e603ff5804b3363e66f0e4d66301c4.png"},11151:(e,n,r)=>{r.d(n,{Z:()=>d,a:()=>a});var s=r(67294);const i={},t=s.createContext(i);function a(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);