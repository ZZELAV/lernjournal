"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[24592],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>_});var a=t(67294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var o=a.createContext({}),m=function(e){var n=a.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},p=function(e){var n=m(e.components);return a.createElement(o.Provider,{value:n},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=m(t),u=i,_=d["".concat(o,".").concat(u)]||d[u]||c[u]||r;return t?a.createElement(_,l(l({ref:n},p),{},{components:t})):a.createElement(_,l({ref:n},p))}));function _(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,l=new Array(r);l[0]=u;var s={};for(var o in n)hasOwnProperty.call(n,o)&&(s[o]=n[o]);s.originalType=e,s[d]="string"==typeof e?e:i,l[1]=s;for(var m=2;m<r;m++)l[m]=t[m];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},27887:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>m});var a=t(87462),i=(t(67294),t(3905));const r={title:"Tag 8",tags:["M141","Tag 8","Datenbanksysteme","Stored Procedures","Views","Triggers"]},l="Tag 8",s={unversionedId:"M141/tag-0008",id:"M141/tag-0008",title:"Tag 8",description:"1 Dokumentationsauftr\xe4ge",source:"@site/docs/M141/tag-0008.md",sourceDirName:"M141",slug:"/M141/tag-0008",permalink:"/docs/M141/tag-0008",draft:!1,tags:[{label:"M141",permalink:"/docs/tags/m-141"},{label:"Tag 8",permalink:"/docs/tags/tag-8"},{label:"Datenbanksysteme",permalink:"/docs/tags/datenbanksysteme"},{label:"Stored Procedures",permalink:"/docs/tags/stored-procedures"},{label:"Views",permalink:"/docs/tags/views"},{label:"Triggers",permalink:"/docs/tags/triggers"}],version:"current",frontMatter:{title:"Tag 8",tags:["M141","Tag 8","Datenbanksysteme","Stored Procedures","Views","Triggers"]},sidebar:"tutorialSidebar",previous:{title:"Tag 7",permalink:"/docs/M141/tag-0007"},next:{title:"Tag 9",permalink:"/docs/M141/tag-0009"}},o={},m=[{value:"1 Dokumentationsauftr\xe4ge",id:"1-dokumentationsauftr\xe4ge",level:2},{value:"1.1 \xdcbungsdokuemntation Sakila",id:"11-\xfcbungsdokuemntation-sakila",level:3},{value:"1.1.1 SPs, Views, Triggers anzeigen und anwenden",id:"111-sps-views-triggers-anzeigen-und-anwenden",level:4},{value:"1.1.2 SPs, Views, Triggers Import(Create)-Befehle dokumentiert",id:"112-sps-views-triggers-importcreate-befehle-dokumentiert",level:4},{value:"1.2 \xdcbungsdokuemntation Chat-Applikation",id:"12-\xfcbungsdokuemntation-chat-applikation",level:3},{value:"1.2.1 SPs, Views anwenden (erstellen und aus der Applikation verwenden)",id:"121-sps-views-anwenden-erstellen-und-aus-der-applikation-verwenden",level:4}],p={toc:m},d="wrapper";function c(e){let{components:n,...r}=e;return(0,i.kt)(d,(0,a.Z)({},p,r,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"tag-8"},"Tag 8"),(0,i.kt)("h2",{id:"1-dokumentationsauftr\xe4ge"},"1 Dokumentationsauftr\xe4ge"),(0,i.kt)("h3",{id:"11-\xfcbungsdokuemntation-sakila"},"1.1 \xdcbungsdokuemntation Sakila"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"https://downloads.mysql.com/docs/sakila-db.zip"},"Sakila-DB herunterladen"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Struktur und Daten importieren"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql"},"sudo mysql < sakila-schema.sql\nsudo mysql < sakila-data.sql\n")),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"Datenbank testen")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql"},"USE sakilla;\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql"},"SHOW FULL TABLES;\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:'title="OUTPUT"',title:'"OUTPUT"'},"----------------------------+------------+\n| Tables_in_sakila           | Table_type |\n+----------------------------+------------+\n| actor                      | BASE TABLE |\n| actor_info                 | VIEW       |\n| address                    | BASE TABLE |\n| category                   | BASE TABLE |\n| city                       | BASE TABLE |\n| country                    | BASE TABLE |\n| customer                   | BASE TABLE |\n| customer_list              | VIEW       |\n| film                       | BASE TABLE |\n| film_actor                 | BASE TABLE |\n| film_category              | BASE TABLE |\n| film_list                  | VIEW       |\n| film_text                  | BASE TABLE |\n| inventory                  | BASE TABLE |\n| language                   | BASE TABLE |\n| nicer_but_slower_film_list | VIEW       |\n| payment                    | BASE TABLE |\n| rental                     | BASE TABLE |\n| sales_by_film_category     | VIEW       |\n| sales_by_store             | VIEW       |\n| staff                      | BASE TABLE |\n| staff_list                 | VIEW       |\n| store                      | BASE TABLE |\n+----------------------------+------------+\n23 rows in set (0.00 sec)\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT COUNT(*) FROM film;\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:'title="OUTPUT"',title:'"OUTPUT"'},"+----------+\n| COUNT(*) |\n+----------+\n|     1000 |\n+----------+\n1 row in set (0.06 sec)\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT COUNT(*) FROM film_text;\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:'title="OUTPUT"',title:'"OUTPUT"'},"+----------+\n| COUNT(*) |\n+----------+\n|     1000 |\n+----------+\n1 row in set (0.00 sec)\n")),(0,i.kt)("h4",{id:"111-sps-views-triggers-anzeigen-und-anwenden"},"1.1.1 SPs, Views, Triggers anzeigen und anwenden"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Zeigen Sie alle Views der Datenbank sakila an:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql"},"SHOW FULL TABLES WHERE table_type = 'VIEW';\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:'title="OUTPUT"',title:'"OUTPUT"'},"+----------------------------+------------+\n| Tables_in_sakila           | Table_type |\n+----------------------------+------------+\n| actor_info                 | VIEW       |\n| customer_list              | VIEW       |\n| film_list                  | VIEW       |\n| nicer_but_slower_film_list | VIEW       |\n| sales_by_film_category     | VIEW       |\n| sales_by_store             | VIEW       |\n| staff_list                 | VIEW       |\n+----------------------------+------------+\n7 rows in set (0.00 sec)\n")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"Zeigen Sie alle Stored Procedures der Datenbank sakila an:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql"},"SHOW PROCEDURE STATUS WHERE db = 'sakila';\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:'title="OUTPUT"',title:'"OUTPUT"'},"+--------+-------------------+-----------+----------------+---------------------+---------------------+---------------+--------------------------------------------------+----------------------+----------------------+--------------------+\n| Db     | Name              | Type      | Definer        | Modified            | Created             | Security_type | Comment                                          | character_set_client | collation_connection | Database Collation |\n+--------+-------------------+-----------+----------------+---------------------+---------------------+---------------+--------------------------------------------------+----------------------+----------------------+--------------------+\n| sakila | film_in_stock     | PROCEDURE | root@localhost | 2023-04-19 11:10:08 | 2023-04-19 11:10:08 | DEFINER       |                                                  | utf8mb4              | utf8mb4_0900_ai_ci   | utf8mb4_0900_ai_ci |\n| sakila | film_not_in_stock | PROCEDURE | root@localhost | 2023-04-19 11:10:08 | 2023-04-19 11:10:08 | DEFINER       |                                                  | utf8mb4              | utf8mb4_0900_ai_ci   | utf8mb4_0900_ai_ci |\n| sakila | rewards_report    | PROCEDURE | root@localhost | 2023-04-19 11:10:08 | 2023-04-19 11:10:08 | DEFINER       | Provides a customizable report on best customers | utf8mb4              | utf8mb4_0900_ai_ci   | utf8mb4_0900_ai_ci |\n+--------+-------------------+-----------+----------------+---------------------+---------------------+---------------+--------------------------------------------------+----------------------+----------------------+--------------------+\n3 rows in set (0.01 sec)\n")),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"Zeigen Sie alle Triggers der Datenbank sakila an:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql"},"SHOW TRIGGERS IN sakila;\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:'title="OUTPUT"',title:'"OUTPUT"'},"+----------------------+--------+----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+------------------------+----------------------------------------------------------------------------------------------------------------------------------+----------------+----------------------+----------------------+--------------------+\n| Trigger              | Event  | Table    | Statement                                                                                                                                                                                                                                                                                                              | Timing | Created                | sql_mode                                                                                                                         | Definer        | character_set_client | collation_connection | Database Collation |\n+----------------------+--------+----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+------------------------+----------------------------------------------------------------------------------------------------------------------------------+----------------+----------------------+----------------------+--------------------+\n| customer_create_date | INSERT | customer | SET NEW.create_date = NOW()                                                                                                                                                                                                                                                                                            | BEFORE | 2023-04-19 11:10:12.03 | STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_ENGINE_SUBSTITUTION | root@localhost | utf8mb4              | utf8mb4_0900_ai_ci   | utf8mb4_0900_ai_ci |\n| ins_film             | INSERT | film     | BEGIN\n    INSERT INTO film_text (film_id, title, description)\n        VALUES (new.film_id, new.title, new.description);\n  END                                                                                                                                                                                          | AFTER  | 2023-04-19 11:10:07.07 | STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_ENGINE_SUBSTITUTION | root@localhost | utf8mb4              | utf8mb4_0900_ai_ci   | utf8mb4_0900_ai_ci |\n| upd_film             | UPDATE | film     | BEGIN\n    IF (old.title != new.title) OR (old.description != new.description) OR (old.film_id != new.film_id)\n    THEN\n        UPDATE film_text\n            SET title=new.title,\n                description=new.description,\n                film_id=new.film_id\n        WHERE film_id=old.film_id;\n    END IF;\n  END | AFTER  | 2023-04-19 11:10:07.10 | STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_ENGINE_SUBSTITUTION | root@localhost | utf8mb4              | utf8mb4_0900_ai_ci   | utf8mb4_0900_ai_ci |\n| del_film             | DELETE | film     | BEGIN\n    DELETE FROM film_text WHERE film_id = old.film_id;\n  END                                                                                                                                                                                                                                                     | AFTER  | 2023-04-19 11:10:07.12 | STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_ENGINE_SUBSTITUTION | root@localhost | utf8mb4              | utf8mb4_0900_ai_ci   | utf8mb4_0900_ai_ci |\n| payment_date         | INSERT | payment  | SET NEW.payment_date = NOW()                                                                                                                                                                                                                                                                                           | BEFORE | 2023-04-19 11:10:13.93 | STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_ENGINE_SUBSTITUTION | root@localhost | utf8mb4              | utf8mb4_0900_ai_ci   | utf8mb4_0900_ai_ci |\n| rental_date          | INSERT | rental   | SET NEW.rental_date = NOW()                                                                                                                                                                                                                                                                                            | BEFORE | 2023-04-19 11:10:14.97 | STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_ENGINE_SUBSTITUTION | root@localhost | utf8mb4              | utf8mb4_0900_ai_ci   | utf8mb4_0900_ai_ci |\n+----------------------+--------+----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+------------------------+----------------------------------------------------------------------------------------------------------------------------------+----------------+----------------------+----------------------+--------------------+\n6 rows in set (0.04 sec)\n")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Alle Stored Procedures, alle Views und Triggers sind in der Datei ",(0,i.kt)("inlineCode",{parentName:"p"},"sakila-data.sql")," definiert")),(0,i.kt)("h4",{id:"112-sps-views-triggers-importcreate-befehle-dokumentiert"},"1.1.2 SPs, Views, Triggers Import(Create)-Befehle dokumentiert"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Dokumentieren Sie den Create-Befehl der Stored Procedures ",(0,i.kt)("inlineCode",{parentName:"li"},"film_in_stock"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql"},"SHOW CREATE PROCEDURE film_in_stock;\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:'title="OUTPUT"',title:'"OUTPUT"'},"...\nBEGIN\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = p_film_id\n     AND store_id = p_store_id\n     AND inventory_in_stock(inventory_id);\n\n     SELECT COUNT(*)\n     FROM inventory\n     WHERE film_id = p_film_id\n     AND store_id = p_store_id\n     AND inventory_in_stock(inventory_id)\n     INTO p_film_count;\nEND\n...\n")),(0,i.kt)("p",null,"Diese SP sucht nach der ",(0,i.kt)("inlineCode",{parentName:"p"},"inventory_id"),", wo die Film und Store ID mit der \xfcbergebenen \xfcbereinstimmt, indem sie die Funktion ",(0,i.kt)("inlineCode",{parentName:"p"},"inventory_in_stock")," verwendet, um zu \xfcberpr\xfcfen, ob das Inventar in dem angegebenen Lagerbestand vorhanden ist. Wenn das Inventar gefunden wird, wird die Anzahl der verf\xfcgbaren Einheiten in der Variable ",(0,i.kt)("inlineCode",{parentName:"p"},"p_film_count")," gespeichert."),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"Dokumentieren Sie den Create-Befehl der View ",(0,i.kt)("inlineCode",{parentName:"li"},"actor_info"),".")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql"},"SHOW CREATE VIEW actor_info;\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:'title="OUTPUT"',title:'"OUTPUT"'},"...\nCREATE ALGORITHM = UNDEFINED DEFINER = `root` @`localhost` SQL SECURITY INVOKER VIEW `actor_info` AS\nselect\n  `a`.`actor_id` AS `actor_id`,\n  `a`.`first_name` AS `first_name`,\n  `a`.`last_name` AS `last_name`,\n  group_concat(\n    distinct concat(\n      `c`.`name`,\n      ': ',\n      (\n        select\n          group_concat(\n            `f`.`title`\n            order by\n              `f`.`title` ASC separator ', '\n          )\n        from\n          (\n            (\n              `film` `f`\n              join `film_category` `fc` on(\n                (`f`.`film_id` = `fc`.`film_id`)\n              )\n            )\n            join `film_actor` `fa` on(\n              (`f`.`film_id` = `fa`.`film_id`)\n            )\n          )\n        where\n          (\n            (\n              `fc`.`category_id` = `c`.`category_id`\n            )\n            and (`fa`.`actor_id` = `a`.`actor_id`)\n          )\n      )\n    )\n    order by\n      `c`.`name` ASC separator '; '\n  ) AS `film_info`\nfrom\n  (\n    (\n      (\n        `actor` `a`\n        left join `film_actor` `fa` on(\n          (`a`.`actor_id` = `fa`.`actor_id`)\n        )\n      )\n      left join `film_category` `fc` on(\n        (`fa`.`film_id` = `fc`.`film_id`)\n      )\n    )\n    left join `category` `c` on(\n      (\n        `fc`.`category_id` = `c`.`category_id`\n      )\n    )\n  )\ngroup by\n  `a`.`actor_id`,\n  `a`.`first_name`,\n  `a`.`last_name`\n...\n")),(0,i.kt)("p",null,"Diese View kombiniert Informationen \xfcber Schauspieler, Filme und Kategorien, um eine Tabelle zu erstellen, die detaillierte Informationen \xfcber jeden Schauspieler und seine Filme enth\xe4lt. Die Informationen werden in der Spalte ",(0,i.kt)("inlineCode",{parentName:"p"},"film_info")," durch die Funktion ",(0,i.kt)("inlineCode",{parentName:"p"},"group_concat")," kombiniert. Durch das ",(0,i.kt)("inlineCode",{parentName:"p"},"group by")," nach ",(0,i.kt)("inlineCode",{parentName:"p"},"actor_id"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"first_name")," und ",(0,i.kt)("inlineCode",{parentName:"p"},"last_name")," wird sichergestellt, dass jeder Schauspieler in der Tabelle nur einmal aufgef\xfchrt wird. Die View kann wie folgt aufgerufen werden:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT * FROM actor_info;\n")),(0,i.kt)("h3",{id:"12-\xfcbungsdokuemntation-chat-applikation"},"1.2 \xdcbungsdokuemntation Chat-Applikation"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Repo von ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/psachan190/realtime-chat-application-using-nodejs-expressjs-and-web-socket.git"},"GitHub")," herunterladen.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"NPM-Dependencies installieren"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"cd realtime-chat-application-using-nodejs-expressjs-and-web-socket\nnpm install\n")),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"Datenbank erstellen")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE DATABASE chat;\n")),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Benutzerinformation in ",(0,i.kt)("inlineCode",{parentName:"p"},"database/db.js")," anpassen")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Applikation per ",(0,i.kt)("inlineCode",{parentName:"p"},"node server.js")," starten"))),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Ein User welcher \xfcber ",(0,i.kt)("inlineCode",{parentName:"p"},"mysql_native_password")," identifiziert wird ist n\xf6tig!",(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("a",{parentName:"p",href:"https://dba.stackexchange.com/questions/209514/what-is-mysql-native-password"},"Link"))),(0,i.kt)("ol",{start:6},(0,i.kt)("li",{parentName:"ol"},"Erstellen Sie zwei Logins in der Datenbank")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT INTO login VALUES ('1','user1','user1');\nINSERT INTO login VALUES ('2','user2','user2');\n")),(0,i.kt)("ol",{start:7},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"http://localhost:3000")," in ZWEI Browsern \xf6ffnen und mit ",(0,i.kt)("inlineCode",{parentName:"li"},"user1")," und ",(0,i.kt)("inlineCode",{parentName:"li"},"user2")," anmelden")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Chat App Login",src:t(82827).Z,width:"2486",height:"1225"})),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Chat App Messages",src:t(10366).Z,width:"2486",height:"1225"})),(0,i.kt)("h4",{id:"121-sps-views-anwenden-erstellen-und-aus-der-applikation-verwenden"},"1.2.1 SPs, Views anwenden (erstellen und aus der Applikation verwenden)"),(0,i.kt)("p",null,"Aktueller SQL-Code in ",(0,i.kt)("inlineCode",{parentName:"p"},"server.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql"},'var sql = "SELECT * FROM message ";\n...\nvar sql = "INSERT INTO message (message , user) VALUES (\'" + data+ "\' , \'"+user+"\')";\n...\nvar sql = "SELECT * FROM login WHERE username=\'" + username+"\'";\n')),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"F\xfchren Sie f\xfcr die Applikation eine Stored-Procedures und eine View ein.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:'title="Message View erstellen"',title:'"Message',View:!0,'erstellen"':!0},"CREATE VIEW view_messages AS\nSELECT * FROM message;\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:'title="Stored Procedure erstellen"',title:'"Stored',Procedure:!0,'erstellen"':!0},"DELIMITER //\nCREATE PROCEDURE insertMessage (IN messageParam VARCHAR(2550), IN userParam VARCHAR(250))\nBEGIN\nINSERT INTO message (message , user) VALUES (messageParam,userParam);\nEND;\n//\nDELIMITER ;\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:'title="Login View erstellen"',title:'"Login',View:!0,'erstellen"':!0},"CREATE VIEW view_logins AS\nSELECT * FROM login;\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:'title="Message View testen"',title:'"Message',View:!0,'testen"':!0},"SELECT * FROM view_messages;\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:'title="OUTPUT"',title:'"OUTPUT"'},"+----+----------------------+-------+\n| id | message              | user  |\n+----+----------------------+-------+\n|  1 | Hallo, ich bin User1 | user1 |\n|  2 | Hallo, ich bin User2 | user2 |\n+----+----------------------+-------+\n2 rows in set (0.00 sec)\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:'title="Stored Procedure testen"',title:'"Stored',Procedure:!0,'testen"':!0},'CALL insertMessage("TEST","user1");\n')),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Die Message sollte nach einem Reload im Browser angezeigt werden.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:'title="Login View testen"',title:'"Login',View:!0,'testen"':!0},"SELECT * FROM view_logins;\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql",metastring:'title="OUTPUT"',title:'"OUTPUT"'},"+----+----------+----------+\n| id | username | password |\n+----+----------+----------+\n|  1 | user1    | user1    |\n|  2 | user2    | user2    |\n+----+----------+----------+\n2 rows in set (0.00 sec)\n")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"Passen Sie die Applikation entsprechend an und testen Sie sie aus")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql"},'var sql = "SELECT * FROM view_messages ";\n...\nvar sql = "CALL insertMessage(\'" + data+ "\',\'"+user+"\')";\n...\nvar sql = "SELECT * FROM view_logins WHERE username=\'" + username+"\'";\n')),(0,i.kt)("p",null,"Nachdem neustarten der Applikation, sollte immer noch alles funktionieren."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Chat App mit SP und Views",src:t(75291).Z,width:"2486",height:"1225"})))}c.isMDXComponent=!0},82827:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/chat_app_login-de9d174ea24b19385159bcb569641121.png"},10366:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/chat_app_messages-3afd15f6916c047d99f10f5a129daef2.png"},75291:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/chat_app_mit_sp_view-7a90c15e1ad45a52bf69a3f6449cba8b.png"}}]);