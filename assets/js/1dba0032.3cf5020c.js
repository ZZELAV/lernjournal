"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[912],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>m});var r=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=r.createContext({}),d=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},c=function(e){var n=d(e.components);return r.createElement(s.Provider,{value:n},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},g=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=d(t),g=a,m=u["".concat(s,".").concat(g)]||u[g]||p[g]||o;return t?r.createElement(m,l(l({ref:n},c),{},{components:t})):r.createElement(m,l({ref:n},c))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,l=new Array(o);l[0]=g;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i[u]="string"==typeof e?e:a,l[1]=i;for(var d=2;d<o;d++)l[d]=t[d];return r.createElement.apply(null,l)}return r.createElement.apply(null,t)}g.displayName="MDXCreateElement"},52890:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>d});var r=t(87462),a=(t(67294),t(3905));const o={title:"Tag 3",tags:["M239","Tag 3","Server","DNS","BIND"]},l="Tag 3: BIND DNS",i={unversionedId:"M239/tag-0003",id:"M239/tag-0003",title:"Tag 3",description:"1 BIND9 - DNS-Server",source:"@site/docs/M239/tag-0003.md",sourceDirName:"M239",slug:"/M239/tag-0003",permalink:"/docs/M239/tag-0003",draft:!1,tags:[{label:"M239",permalink:"/docs/tags/m-239"},{label:"Tag 3",permalink:"/docs/tags/tag-3"},{label:"Server",permalink:"/docs/tags/server"},{label:"DNS",permalink:"/docs/tags/dns"},{label:"BIND",permalink:"/docs/tags/bind"}],version:"current",frontMatter:{title:"Tag 3",tags:["M239","Tag 3","Server","DNS","BIND"]},sidebar:"tutorialSidebar",previous:{title:"Tag 2",permalink:"/docs/M239/tag-0002"},next:{title:"Tag 4",permalink:"/docs/M239/tag-0004"}},s={},d=[{value:"1 BIND9 - DNS-Server",id:"1-bind9---dns-server",level:2},{value:"1.1 Installation",id:"11-installation",level:3},{value:"1.2 Bedienung",id:"12-bedienung",level:3},{value:"1.3 Konfiguration",id:"13-konfiguration",level:3},{value:"1.3.1 Options",id:"131-options",level:4},{value:"1.3.2 Forward-Zone",id:"132-forward-zone",level:4},{value:"1.3.3 Reverse-Zone",id:"133-reverse-zone",level:4},{value:"1.3.4 Local - Zonen einbinden",id:"134-local---zonen-einbinden",level:4}],c={toc:d};function u(e){let{components:n,...o}=e;return(0,a.kt)("wrapper",(0,r.Z)({},c,o,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"tag-3-bind-dns"},"Tag 3: BIND DNS"),(0,a.kt)("h2",{id:"1-bind9---dns-server"},"1 BIND9 - DNS-Server"),(0,a.kt)("p",null,"BIND (Dienst heisst named) ist ein Open-Source DNS-Server. Als Alternative gibt es den DNS-Server Dnsmasq."),(0,a.kt)("h3",{id:"11-installation"},"1.1 Installation"),(0,a.kt)("p",null,"Um BIND und alle dazuben\xf6tigten Packages zu installieren, kann folgender Befehl genutzt werden:  "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cmd"},"sudo apt install bind9 bind9utils bind9-doc\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"bind9 -> Die eigentliche Software  "),(0,a.kt)("li",{parentName:"ul"},"bind9utils -> Hilfsprogramme  "),(0,a.kt)("li",{parentName:"ul"},"bind9-doc -> Dokumentation zur Software")),(0,a.kt)("h3",{id:"12-bedienung"},"1.2 Bedienung"),(0,a.kt)("p",null,"Als erstes muss der Dienst zum Autostart hinzugef\xfcgt werden:  "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cmd"},"sudo systemctl enable named\n")),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"/appendix/M239/dienste_steuern"},"Dienste steuern")),(0,a.kt)("h3",{id:"13-konfiguration"},"1.3 Konfiguration"),(0,a.kt)("p",null,"BIND hat vier Config-Dateien:"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"/etc/bind/named.conf.options"),(0,a.kt)("br",{parentName:"p"}),"\n","Enth\xe4lt die Konfigurationsoptionen. Was soll der Server machen, wenn er die DNS-Anfrage nicht beantworten kann."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"/etc/bind/named.conf.local"),(0,a.kt)("br",{parentName:"p"}),"\n","In dieser Datei werden die Zonendatein eingebunden."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"/etc/bind/db.DOMAIN.CH.zone"),(0,a.kt)("br",{parentName:"p"}),"\n","Forward-Zonendatei. Hier werden alle Eintr\xe4ge erfasst welche von Namen zu IP aufgel\xf6st werden sollen. Der Name der Datei kann frei w\xe4hlbar sein. Es macht allerdings Sinn, wenn man sie erkennbar benennt, z.B. *.zone"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"/etc/bind/db.0.0.0.10"),(0,a.kt)("br",{parentName:"p"}),"\n","Reverse-Zonendatei. Wie bei der Forward-Zone werden hier Eintr\xe4ge erfasst, allerdings die Anfragen die von IP zu Namen \xfcbersetzt werden sollen."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"BIND Dateien",src:t(73223).Z,width:"1308",height:"510"})),(0,a.kt)("h4",{id:"131-options"},"1.3.1 Options"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-config"},'options {\n    directory "/var/cache/bind";\n\n    // If there is a firewall between you and nameservers you want\n    // to talk to, you may need to fix the firewall to allow multiple\n    // ports to talk.  See http://www.kb.cert.org/vuls/id/800113\n\n    // If your ISP provided one or more IP addresses for stable \n    // nameservers, you probably want to use them as forwarders.  \n    // Uncomment the following block, and insert the addresses replacing \n    // the all-0\'s placeholder.\n\n    forwarders {\n        8.8.8.8;\n        4.4.4.4;\n    };\n\n    //========================================================================\n    // If BIND logs error messages about the root key being expired,\n    // you will need to update your keys.  See https://www.isc.org/bind-keys\n    //========================================================================\n    dnssec-validation no;\n\n    recursion yes;\n\n    querylog yes;\n\n    auth-nxdomain no;\n\n    listen-on-v6 { any; };\n};\n')),(0,a.kt)("h4",{id:"132-forward-zone"},"1.3.2 Forward-Zone"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-config"},";\n; BIND data file for local loopback interface\n;\n$TTL    604800\n@   IN  SOA bind.PANICOlocal.ch. root.PANICOlocal.ch. (\n         2022020401     ; Serial\n             604800     ; Refresh\n              86400     ; Retry\n            2419200     ; Expire\n             604800 )      ; Negative Cache TTL\n;\n@   IN  NS  bind        ; Nameserver-Eintrag. Wir selber.\n@   IN  A   10.0.0.200  ; Unsere IP\n\n; A-Eintr\xe4ge\n\nbind    IN  A   10.0.0.200\napache  IN  A   10.0.0.100\n")),(0,a.kt)("h4",{id:"133-reverse-zone"},"1.3.3 Reverse-Zone"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-config"},";\n; BIND reverse data file for local loopback interface\n;\n$TTL    604800\n@   IN  SOA bind.PANICOlocal.ch. root.PANICOlocal.ch. (\n                  1     ; Serial\n             604800     ; Refresh\n              86400     ; Retry\n            2419200     ; Expire\n             604800 )   ; Negative Cache TTL\n;\n@   IN  NS  bind.PANICOlocal.ch. ; NS Eintrag\n\n; PTR Eintr\xe4ge\n200 IN  PTR bind.PANICOlocal.ch. ; Dieser Server\n100 IN  PTR apache.PANICOlocal.ch. ; Apache WWW Server\n")),(0,a.kt)("h4",{id:"134-local---zonen-einbinden"},"1.3.4 Local - Zonen einbinden"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-config"},'//\n// Do any local configuration here\n//\n\n// Consider adding the 1918 zones here, if they are not used in your\n// organization\n//include "/etc/bind/zones.rfc1918";\n\n# Forward Zone\nzone "panicolocal.ch" {\n    type master;\n    file "/etc/bind/PANICOlocal.ch.zone";\n};\n\n# Reverse Zone\nzone "0.0.10.in-addr.arpa" {\n    type master;\n    file "/etc/bind/db.0.0.10";\n};\n')),(0,a.kt)("hr",null),(0,a.kt)("p",null,"Quellen: ",(0,a.kt)("a",{parentName:"p",href:"https://wiki.ubuntuusers.de/DNS-Server_Bind/"},"Beschreibung BIND")))}u.isMDXComponent=!0},73223:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/bindDateien-645e53f4a4294e9219115ea8135f849b.svg"}}]);