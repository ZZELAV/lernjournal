"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[3031],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>k});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),c=s(n),m=r,k=c["".concat(p,".").concat(m)]||c[m]||u[m]||l;return n?a.createElement(k,i(i({ref:t},d),{},{components:n})):a.createElement(k,i({ref:t},d))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=m;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[c]="string"==typeof e?e:r,i[1]=o;for(var s=2;s<l;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},59024:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>c,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var a=n(87462),r=(n(67294),n(3905));const l={title:"Tag 14",tags:["M239","Tag 14","Server","Docker","PHP"]},i="Tag 14: Docker mit PHP",o={unversionedId:"M239/tag-0014",id:"M239/tag-0014",title:"Tag 14",description:"1 \xdcbung 1: Projekt ausprobieren",source:"@site/docs/M239/tag-0014.md",sourceDirName:"M239",slug:"/M239/tag-0014",permalink:"/docs/M239/tag-0014",draft:!1,tags:[{label:"M239",permalink:"/docs/tags/m-239"},{label:"Tag 14",permalink:"/docs/tags/tag-14"},{label:"Server",permalink:"/docs/tags/server"},{label:"Docker",permalink:"/docs/tags/docker"},{label:"PHP",permalink:"/docs/tags/php"}],version:"current",frontMatter:{title:"Tag 14",tags:["M239","Tag 14","Server","Docker","PHP"]},sidebar:"tutorialSidebar",previous:{title:"Tag 13",permalink:"/docs/M239/tag-0013"},next:{title:"Tag 15",permalink:"/docs/M239/tag-0015"}},p={},s=[{value:"1 \xdcbung 1: Projekt ausprobieren",id:"1-\xfcbung-1-projekt-ausprobieren",level:2},{value:"1.1 Phase 1: Aufbau",id:"11-phase-1-aufbau",level:3},{value:"1.2 Phase 2: Laufen lassen",id:"12-phase-2-laufen-lassen",level:3},{value:"2 \xdcbung 2: Eigenes Projekt bauen",id:"2-\xfcbung-2-eigenes-projekt-bauen",level:2},{value:"2.1 Phase 1: Vorbereitung",id:"21-phase-1-vorbereitung",level:3},{value:"2.2 Phase 2: Dockerfile erstellen",id:"22-phase-2-dockerfile-erstellen",level:3},{value:"2.3 Phase 3: Container builden",id:"23-phase-3-container-builden",level:3},{value:"2.4 Phase 4: Container laufen lassen",id:"24-phase-4-container-laufen-lassen",level:3}],d={toc:s};function c(e){let{components:t,...l}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"tag-14-docker-mit-php"},"Tag 14: Docker mit PHP"),(0,r.kt)("h2",{id:"1-\xfcbung-1-projekt-ausprobieren"},"1 \xdcbung 1: Projekt ausprobieren"),(0,r.kt)("h3",{id:"11-phase-1-aufbau"},"1.1 Phase 1: Aufbau"),(0,r.kt)("admonition",{title:"Auftrag",type:"note"},(0,r.kt)("ol",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ol"},"Erstellen Sie ein neues Verzeichnis ",(0,r.kt)("inlineCode",{parentName:"li"},"teststaticsite")),(0,r.kt)("li",{parentName:"ol"},"Erstellen Sie darin eine neue Datei Dockerfile"),(0,r.kt)("li",{parentName:"ol"},"Erstellen Sie ein zweites File ",(0,r.kt)("inlineCode",{parentName:"li"},"Hello_docker.html")))),(0,r.kt)("p",null,"Neues Directory erstellen:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cmd"},"mkdir teststaticsite\ncd teststaticsite\n")),(0,r.kt)("p",null,"Dockerfile erstellen:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cmd"},"nano Dockerfile\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-docker"},"FROM httpd:2.4\n\nCOPY Hello_docker.html /usr/local/apache2/htdocs\n")),(0,r.kt)("p",null,"HTML Datei erstellen:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cmd"},"nano Hello_docker.html\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:'title="Hello_docker.html"',title:'"Hello_docker.html"'},'<!DOCTYPE html>\n<html lang="de">\n<head>\n    <meta charset="UTF-8">\n    <meta http-equiv="X-UA-Compatible" content="IE=edge">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Hello Docker</title>\n</head>\n<body>\n    <h1>Hello Docker</h1>\n</body>\n</html>\n')),(0,r.kt)("h3",{id:"12-phase-2-laufen-lassen"},"1.2 Phase 2: Laufen lassen"),(0,r.kt)("admonition",{title:"Auftrag",type:"note"},(0,r.kt)("ol",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ol"},"Builden Sie das Image mit dem Befehl ",(0,r.kt)("inlineCode",{parentName:"li"},"docker build -t inauendemo:v1 .")),(0,r.kt)("li",{parentName:"ol"},"Lassen Sie den Container laufen mit dem Befehl ",(0,r.kt)("inlineCode",{parentName:"li"},"docker run -i -p 8888:80 inauendemo:v1")),(0,r.kt)("li",{parentName:"ol"},"Greifen Sie mit dem Webbrowser auf ",(0,r.kt)("inlineCode",{parentName:"li"},"http://localhost:8888/Hello_docker.html")," zu"),(0,r.kt)("li",{parentName:"ol"},"Protokollieren Sie was das Dockerfile tut - Zeile f\xfcr Zeile"),(0,r.kt)("li",{parentName:"ol"},"Protokollieren Sie was der Startbefehl tut"))),(0,r.kt)("p",null,"Image builden:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-docker"},"docker build -t inauendemo:v1 .\n")),(0,r.kt)("p",null,"Container laufen lassen:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-docker"},"docker run -i -p 8888:80 inauendemo:v1\n")),(0,r.kt)("p",null,"Webseitenaufruf:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Webseitenaufruf inauendemo Container",src:n(6647).Z,width:"1280",height:"1368"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Was macht das Dockerfile")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-docker"},"FROM httpd:2.4\n\nCOPY Hello_docker.html /usr/local/apache2/htdocs\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"FROM")," - Holt sich das Image ",(0,r.kt)("inlineCode",{parentName:"li"},"httpd")," in der Version ",(0,r.kt)("inlineCode",{parentName:"li"},"2.4")," vom ",(0,r.kt)("a",{parentName:"li",href:"https://hub.docker.com/"},"Docker Hub")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"COPY")," - Kopiert das ",(0,r.kt)("inlineCode",{parentName:"li"},"Hello_docker.html"),", was in diesem Verzeichnis ist, in das Apache Verzeichnis")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Was macht der Startbefehl")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-docker"},"docker run -i -p 8888:80 inauendemo:v1\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"RUN")," - F\xfcr den Container aus"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-i")," - Interaktiv, ist es ein Konsolen-Programm, kann in dieser Konsole der Output gesehen werden"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-p")," - Definiert den Port, der erste Teil ist der Port des Hosts's und der zweite Teil der Port des Containers.")),(0,r.kt)("h2",{id:"2-\xfcbung-2-eigenes-projekt-bauen"},"2 \xdcbung 2: Eigenes Projekt bauen"),(0,r.kt)("h3",{id:"21-phase-1-vorbereitung"},"2.1 Phase 1: Vorbereitung"),(0,r.kt)("admonition",{title:"Auftrag",type:"note"},(0,r.kt)("ol",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ol"},"Erstellen Sie im Home-Verzeichnis auf dem Dockerhost ein neues Verzeichnis: phpdocker"),(0,r.kt)("li",{parentName:"ol"},"Stellen Sie darin eine Test-PHP-Datei (zum Beispiel ein phpinfo()) und eine Test-HTML-Datei bereit"))),(0,r.kt)("p",null,"Verzeichnis erstellen:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cmd"},"mkdir phpdocker\ncd phpdocker\n")),(0,r.kt)("p",null,"Test-PHP-Datei erstellen:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cmd"},"nano test.php\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php",metastring:'title="test.php"',title:'"test.php"'},"<?php\n\nphpinfo();\n")),(0,r.kt)("p",null,"Test-HTML-Datei erstellen:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cmd"},"nano test.html\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:'title="test.html"',title:'"test.html"'},"<h1>Valentino Panico</h1>\n")),(0,r.kt)("h3",{id:"22-phase-2-dockerfile-erstellen"},"2.2 Phase 2: Dockerfile erstellen"),(0,r.kt)("admonition",{title:"Auftrag",type:"note"},(0,r.kt)("ol",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ol"},"Recherchieren Sie im Internet zum Vorgehen"),(0,r.kt)("li",{parentName:"ol"},"Betrachten Sie das Dockerfile im Projekt ",(0,r.kt)("a",{parentName:"li",href:"https://gitlab.com/M239_public/PHP_Docker/tree/master/web"},"https://gitlab.com/M239_public/PHP_Docker/tree/master/web")),(0,r.kt)("li",{parentName:"ol"},"Erstellen Sie nach Ihren Vorstellungen (und Recherchen) ein Dockerfile"))),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docs.docker.com/engine/reference/builder/"},"Recherche Dockerfile")),(0,r.kt)("p",null,"Beispiel Dockerfile:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-docker"},"FROM php:7.0-apache\nCOPY public/ /var/www/html/\nCOPY guiadmin/ /var/www/html/guiadmin\nRUN docker-php-ext-install pdo pdo_mysql\n")),(0,r.kt)("p",null,"Eigenes Dockerfile erstellen:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-docker"},"FROM php:7.4-apache\nCOPY test.php /var/www/html/\nCOPY test.html /var/www/html/\nRUN docker-php-ext-install pdo pdo_mysql\n")),(0,r.kt)("h3",{id:"23-phase-3-container-builden"},"2.3 Phase 3: Container builden"),(0,r.kt)("admonition",{title:"Auftrag",type:"note"},(0,r.kt)("ol",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ol"},"F\xfchren Sie im Verzeichnis folgenden Befehl aus:",(0,r.kt)("br",{parentName:"li"}),(0,r.kt)("inlineCode",{parentName:"li"},"docker build -t webservertest:v1 .")," // Achten Sie auf den letzten Punkt!"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cmd"},"docker build -t webservertest:v1 .\n")),(0,r.kt)("admonition",{title:"Kontrolle",type:"danger"},(0,r.kt)("ol",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ol"},"Kontrollieren Sie ob Ihre Image erstellt wurde (Befehl nachkucken...)"),(0,r.kt)("li",{parentName:"ol"},"Dokumentieren Sie Ihr Verst\xe4ndnis des Befehls"))),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/appendix/M239/docker#docker-images-anzeigen"},"Kontrolle Image Erstellung")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/appendix/M239/docker#docker-build"},"Erkl\xe4rung ",(0,r.kt)("inlineCode",{parentName:"a"},"docker build"))),(0,r.kt)("h3",{id:"24-phase-4-container-laufen-lassen"},"2.4 Phase 4: Container laufen lassen"),(0,r.kt)("admonition",{title:"Auftrag",type:"note"},(0,r.kt)("ol",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ol"},"F\xfchren Sie nun folgenden Befehl aus:",(0,r.kt)("br",{parentName:"li"}),(0,r.kt)("inlineCode",{parentName:"li"},"docker run -i -p 3333:80 webservertest:v1")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cmd"},"docker run -i -p 3333:80 webservertest:v1\n")),(0,r.kt)("admonition",{title:"Kontrolle",type:"danger"},(0,r.kt)("ol",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ol"},"Kontrollieren Sie in einem anderen Terminal ob Sie den laufenden Container sehen"),(0,r.kt)("li",{parentName:"ol"},"L\xf6sen Sie mit Ihrem Webbrowser die Webseite ",(0,r.kt)("inlineCode",{parentName:"li"},"http://localhost:3333/test.php")," auf....sollte funktionieren"),(0,r.kt)("li",{parentName:"ol"},"Dokumentieren Sie Ihr Verst\xe4ndnis des Befehls"))),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/appendix/M239/docker#laufende-container-anzeigen"},"Kontrolle laufende Container")),(0,r.kt)("p",null,"Webseitenaufruf:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Webseitenaufruf webservertest Container test.php",src:n(12370).Z,width:"1280",height:"1368"})),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Webseitenaufruf webservertest Container test.html",src:n(35845).Z,width:"1280",height:"1368"})),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/appendix/M239/docker#docker-run"},"Erkl\xe4rung ",(0,r.kt)("inlineCode",{parentName:"a"},"docker run"))))}c.isMDXComponent=!0},6647:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/docker_inauendemo_container-fac85b18cb59211f6bf6f6ff5e41f047.png"},35845:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/docker_webservertest_container_html-09d910f968aac49b6bfa180258e04987.png"},12370:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/docker_webservertest_container_php-a753149da390e3aeab9507ca06202bde.png"}}]);